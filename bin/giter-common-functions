#!/bin/sh
#
# Copyright (C) 2014  Etersoft
# Copyright (C) 2014  Vitaly Lipatov <lav@etersoft.ru>
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU Affero General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU Affero General Public License for more details.
#
# You should have received a copy of the GNU Affero General Public License
# along with this program. If not, see <http://www.gnu.org/licenses/>.
#

estrlist()
{
        $PROGDIR/giter-estrlist "$@"
}

# Args: LIST1 LIST2
# do_exclude_list print LIST2 exclude fields contains also in LIST1
# Example: do_exclude_list "1 3" "1 2 3 4" -> "2 4"
do_exclude_list()
{
        estrlist exclude "$@"
}

# TODO: move to git (in etersoft-build-utils too)
# TODO: move to separate command
get_root_git_dir()
{
        local DIR=$(git rev-parse --git-dir 2>/dev/null)/../ || return
        readlink -f "$DIR" 2>/dev/null || realpath "$DIR"
        # FIXME: 1) can return / with good status 2) no one check status later
}
